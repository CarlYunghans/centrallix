== OVERVIEW ==

This test suite uses test_obj to run SQL queries or other test_obj commands
and compares the output against "correct" output.  The test suite detects
crashes, failures, and lockups.


== RUNNING THE TEST SUITE ==

Use "make test" to run the test suite.

You can tell the test suite to only run a subset of the tests by setting
the $TONLY environment variable to the category in question.  For example,

    $ export TONLY=00baseline
    $ make test

The test_00baseline_NN tests only validate that the test suite itself is
operating correctly.  The tests in this category will pass, fail, crash, and
lockup, just to ensure that the test suite is correctly reporting the test
results.


== CREATING TEST SUITE ENTRIES ==

Each test suite item should have two files:

    tests/test_{category}_NN.to   -   test_obj command script
    tests/test_{category}_NN.cmp  -   "correct" output

The *.cmp file can be derived from the *.out file that is generated by
running a test for the first time.  Be sure the *.out file is correct!!

The description of the test should be contained in the .to file itself, in a
line prefixed by "##NAME ".  For example,

    ##NAME just testing...
    query select one = 0

If the test modifies a file in the objectsystem, the modifications can be
automatically undone post-test by including an "##UNDO " tag inside the script:

    ##NAME an update test
    ##UNDO /tests/updatetest.csv
    query update /tests/updatetest.csv/rows set :value = 1

As you develop new test suite entires to cover new or existing functionality,
see the discussion above about the $TONLY environment variable, as well.

